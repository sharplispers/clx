-*- Text -*-

---  Changes in SBCL CLX 0.5.5, <FILL IN TIMESTAMP>        ---

With the addition of an implementation of DYNAMIC-EXTENT &REST lists
to SBCL, various functions (e.g. READ-INPUT, QUEUE-EVENT) in CLX
should cons less.

A Texinfo version of the CLX manual as been added.

The portable-clx mailing list has been created for development discussion
and bug reports

---  Changes in SBCL CLX 0.5.4, Tue Nov 11 00:02:43 2003   ---

A change in the implementation of PROCESS-BLOCK and PROCESS-WAKEUP
under multithreaded SBCL.  Previous versions used queues and condition
variables, but this seems to have undesireable performance
characteristics; the newer version uses a polling loop calling
sched_yield() inside, which greatly improves responsiveness, but is
more CPU-hungry (as perceived by top(1), at least; in theory it
only hogs the CPU when nobody else wants it).


---  Changes in SBCL CLX 0.5.3, Sat Sep  6 12:14:39 UTC 2003 ---

We allow a PIXMAP-DEPTH of 12 in clx.lisp, despite not having any
image routines for it, to allow clx to load when running under eXceed.
Image routines are unlikely to work in such circumstances.

Bug fixes

 * ERROR idiom (xvidmode.lisp)
 * Add timestamp in NEWS file

---  Changes in SBCL CLX 0.5.2, about twenty minutes before 0.5.3  ---

OPEN-DEFAULT-DISPLAY now takes an optional argument for the display
name, which has the same "protocol/host:display.screen" format as used
by the C libX11 (XOpenDisplay).  OPEN-DISPLAY is not actively
deprecated, but is much less useful by comparison

Inclusion of two new tests/demos (from Ingvar Mattson):
 * demo/clclock: a simple clock application;
 * demo/mandel: a Mandelbrot set viewer.

Bug fixes

 * Fix bad type declarations in TEXT-EXTENTS-SERVER and
   TEXT-WIDTH-SERVER (text.lisp)
 * Fix FORMAT argument mismatch error in WRITE-BITMAP-FILE (image.lisp)

---  Changes in SBCL CLX 0.5.1, Wed Jun 25 14:20:31 BST 2003  ---

experimental RENDER extension support (from Gilbert Baumann)
  note: the API to this is as yet unfinalized, as indeed the protocol
        and specification appear to be in flux.  Nevertheless,
        feedback is welcome to the portable-clx-devel mailing list.

Bug fixes

 * fix bugs in the image test: always draw glyphs in white on black
   (not 1 on 0 -- i.e. dark red/blue on black in 24 bit truecolour);
   don't abuse the X-HOT and Y-HOT slots for communicating persistent
   information any more.  

 * Disable the "optimized" pixarray read/write routines, on the basis
   that the newly fixed image test reveals that they are broken.

 * fix type bugs in DEFINE-GCONTEXT-ACCESSOR, which previously
   signalled a type error if :COPY-FUNCTION was not provided, and a
   different type error if it was.

Other notes

 * we use the SBCL extensions to the condition system to customize
   compiler behaviour.  As such, the system will only build without
   breaking into the debugger using the supplied .asd, as we inhibit
   error signalling from DEFCONSTANT; the benefits of this are easier
   code sharing, as we minimize divergence within the clx source
   proper from other implementations.

 * we also use an SBCL extension to maximize efficiency: we set
   SB-EXT:*DERIVE-FUNCTION-TYPES* to true for the duration of the
   compilation of the clx library.  Should functions in CLX be
   redefined in a type-incompatible way, their callers in CLX (but not
   outside) will need to be recompiled.

---  Changes in SBCL CLX 0.5, Fri May 30 01:16:34 BST 2003  ---

XFree86-VidModeExtension extension support (courtesy of Iban Hatchondo)

OPEN-DEFAULT-DISPLAY (opens display in $DISPLAY environment variable) exported

Implement CLX MP dependencies for SBCL: HOLDING-LOCK, PROCESS-BLOCK, etc

Many bug fixes

 * asking for text extents on unchached fonts could potentially deadlock
   http://article.gmane.org/gmane.lisp.clx.devel/16

 * lots of compiler warnings, style-warnings, notes cleared up


Style and ANSI cleanups

 * Much renaming of constants from *foo* to +foo+

 *  Change old-style COMPILE LOAD EVAL to new-style :COMPILE-TOPLEVEL
     :LOAD-TOPLEVEL :EXECUTE in EVAL-WHENs.

